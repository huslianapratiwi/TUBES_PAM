{"ast":null,"code":"'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\nvar _reactNative = require(\"react-native\");\nvar razorpayEvents = new _reactNative.NativeEventEmitter(_reactNative.NativeModules.RazorpayEventEmitter);\nvar removeSubscriptions = function removeSubscriptions() {\n  razorpayEvents.removeAllListeners('Razorpay::PAYMENT_SUCCESS');\n  razorpayEvents.removeAllListeners('Razorpay::PAYMENT_ERROR');\n  razorpayEvents.removeAllListeners('Razorpay::EXTERNAL_WALLET_SELECTED');\n};\nvar RazorpayCheckout = function () {\n  function RazorpayCheckout() {\n    (0, _classCallCheck2.default)(this, RazorpayCheckout);\n  }\n  (0, _createClass2.default)(RazorpayCheckout, null, [{\n    key: \"open\",\n    value: function open(options, successCallback, errorCallback) {\n      return new Promise(function (resolve, reject) {\n        razorpayEvents.addListener('Razorpay::PAYMENT_SUCCESS', function (data) {\n          var resolveFn = successCallback || resolve;\n          resolveFn(data);\n          removeSubscriptions();\n        });\n        razorpayEvents.addListener('Razorpay::PAYMENT_ERROR', function (data) {\n          var rejectFn = errorCallback || reject;\n          rejectFn(data);\n          removeSubscriptions();\n        });\n        _reactNative.NativeModules.RNRazorpayCheckout.open(options);\n      });\n    }\n  }, {\n    key: \"onExternalWalletSelection\",\n    value: function onExternalWalletSelection(externalWalletCallback) {\n      razorpayEvents.addListener('Razorpay::EXTERNAL_WALLET_SELECTED', function (data) {\n        externalWalletCallback(data);\n        removeSubscriptions();\n      });\n    }\n  }]);\n  return RazorpayCheckout;\n}();\nvar _default = RazorpayCheckout;\nexports.default = _default;","map":{"version":3,"names":["razorpayEvents","NativeEventEmitter","NativeModules","RazorpayEventEmitter","removeSubscriptions","removeAllListeners","RazorpayCheckout","options","successCallback","errorCallback","Promise","resolve","reject","addListener","data","resolveFn","rejectFn","RNRazorpayCheckout","open","externalWalletCallback"],"sources":["C:/Users/HUSLIANA/react-native-ecommerce/node_modules/react-native-razorpay/RazorpayCheckout.js"],"sourcesContent":["'use strict';\n\nimport { NativeModules, NativeEventEmitter } from 'react-native';\n\nconst razorpayEvents = new NativeEventEmitter(NativeModules.RazorpayEventEmitter);\n\nconst removeSubscriptions = () => {\n  razorpayEvents.removeAllListeners('Razorpay::PAYMENT_SUCCESS');\n  razorpayEvents.removeAllListeners('Razorpay::PAYMENT_ERROR');\n  razorpayEvents.removeAllListeners('Razorpay::EXTERNAL_WALLET_SELECTED');\n};\n\nclass RazorpayCheckout {\n  static open(options, successCallback, errorCallback) {\n    return new Promise(function(resolve, reject) {\n      razorpayEvents.addListener('Razorpay::PAYMENT_SUCCESS', (data) => {\n        let resolveFn = successCallback || resolve;\n        resolveFn(data);\n        removeSubscriptions();\n      });\n      razorpayEvents.addListener('Razorpay::PAYMENT_ERROR', (data) => {\n        let rejectFn = errorCallback || reject;\n        rejectFn(data);\n        removeSubscriptions();\n      });\n      NativeModules.RNRazorpayCheckout.open(options);\n    });\n  }\n  static onExternalWalletSelection(externalWalletCallback) {\n    razorpayEvents.addListener('Razorpay::EXTERNAL_WALLET_SELECTED', (data) => {\n      externalWalletCallback(data);\n      removeSubscriptions();\n    });\n  }\n}\n\nexport default RazorpayCheckout;\n"],"mappings":"AAAA,YAAY;;AAAC;AAAA;EAAA;AAAA;AAAA;AAAA;AAAA;AAEb;AAEA,IAAMA,cAAc,GAAG,IAAIC,+BAAkB,CAACC,0BAAa,CAACC,oBAAoB,CAAC;AAEjF,IAAMC,mBAAmB,GAAG,SAAtBA,mBAAmB,GAAS;EAChCJ,cAAc,CAACK,kBAAkB,CAAC,2BAA2B,CAAC;EAC9DL,cAAc,CAACK,kBAAkB,CAAC,yBAAyB,CAAC;EAC5DL,cAAc,CAACK,kBAAkB,CAAC,oCAAoC,CAAC;AACzE,CAAC;AAAC,IAEIC,gBAAgB;EAAA;IAAA;EAAA;EAAA;IAAA;IAAA,qBACRC,OAAO,EAAEC,eAAe,EAAEC,aAAa,EAAE;MACnD,OAAO,IAAIC,OAAO,CAAC,UAASC,OAAO,EAAEC,MAAM,EAAE;QAC3CZ,cAAc,CAACa,WAAW,CAAC,2BAA2B,EAAE,UAACC,IAAI,EAAK;UAChE,IAAIC,SAAS,GAAGP,eAAe,IAAIG,OAAO;UAC1CI,SAAS,CAACD,IAAI,CAAC;UACfV,mBAAmB,EAAE;QACvB,CAAC,CAAC;QACFJ,cAAc,CAACa,WAAW,CAAC,yBAAyB,EAAE,UAACC,IAAI,EAAK;UAC9D,IAAIE,QAAQ,GAAGP,aAAa,IAAIG,MAAM;UACtCI,QAAQ,CAACF,IAAI,CAAC;UACdV,mBAAmB,EAAE;QACvB,CAAC,CAAC;QACFF,0BAAa,CAACe,kBAAkB,CAACC,IAAI,CAACX,OAAO,CAAC;MAChD,CAAC,CAAC;IACJ;EAAC;IAAA;IAAA,0CACgCY,sBAAsB,EAAE;MACvDnB,cAAc,CAACa,WAAW,CAAC,oCAAoC,EAAE,UAACC,IAAI,EAAK;QACzEK,sBAAsB,CAACL,IAAI,CAAC;QAC5BV,mBAAmB,EAAE;MACvB,CAAC,CAAC;IACJ;EAAC;EAAA;AAAA;AAAA,eAGYE,gBAAgB;AAAA"},"metadata":{},"sourceType":"script"}