{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _reactNative = require(\"react-native\");\nvar _context = require(\"./context\");\nvar _this = this,\n  _jsxFileName = \"C:\\\\Users\\\\HUSLIANA\\\\react-native-ecommerce\\\\node_modules\\\\react-native-admob-native-ads\\\\src\\\\NativeMediaView.js\";\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nvar timers = {};\nvar NativeMediaView = function NativeMediaView(props) {\n  var _useContext = (0, _react.useContext)(_context.NativeAdContext),\n    nativeAd = _useContext.nativeAd,\n    nativeAdView = _useContext.nativeAdView;\n  var adMediaView = (0, _react.useRef)();\n  var nodeHandle = null;\n  var _onLayout = (0, _react.useCallback)(function () {\n    if (!nativeAdView) return;\n    _clearInterval();\n    nodeHandle = (0, _reactNative.findNodeHandle)(adMediaView.current);\n    nativeAdView.setNativeProps({\n      mediaview: nodeHandle\n    });\n  }, [nativeAdView]);\n  (0, _react.useEffect)(function () {\n    _onLayout();\n    return function () {\n      _clearInterval();\n    };\n  }, [nativeAd, nativeAdView]);\n  var _setInterval = function _setInterval() {\n    _clearInterval();\n    timers[nodeHandle] = setInterval(function () {\n      if (!adMediaView.current) {\n        clearInterval(timers[nodeHandle]);\n        return;\n      }\n      _reactNative.UIManager.dispatchViewManagerCommand((0, _reactNative.findNodeHandle)(adMediaView.current), _reactNative.UIManager.getViewManagerConfig(\"RNGADMediaView\").Commands.getProgress, undefined);\n    }, 1000);\n  };\n  var _clearInterval = function _clearInterval() {\n    clearInterval(timers[nodeHandle]);\n    timers[nodeHandle] = null;\n  };\n  var onVideoPlay = function onVideoPlay() {\n    _setInterval();\n    props.onVideoPlay && props.onVideoPlay();\n  };\n  var onVideoPause = function onVideoPause() {\n    _clearInterval();\n    props.onVideoPause && props.onVideoPause();\n  };\n  var onVideoEnd = function onVideoEnd() {\n    _clearInterval();\n    props.onVideoEnd && props.onVideoEnd();\n  };\n  var onVideoProgress = function onVideoProgress(event) {\n    if (_reactNative.Platform.OS === \"android\") {\n      var progress = event.nativeEvent;\n      var duration = parseFloat(progress.duration);\n      var current = parseFloat(progress.currentTime);\n      if (current + 4 > duration) {\n        _clearInterval();\n      }\n    }\n    props.onVideoProgress && props.onVideoProgress(event.nativeEvent);\n  };\n  var onVideoMute = function onVideoMute(event) {\n    var _event$nativeEvent;\n    props.onVideoMute && props.onVideoMute((_event$nativeEvent = event.nativeEvent) == null ? void 0 : _event$nativeEvent.muted);\n  };\n  return _react.default.createElement(AdMediaView, (0, _extends2.default)({}, props, {\n    pause: props.paused,\n    onVideoPlay: onVideoPlay,\n    onVideoPause: onVideoPause,\n    onVideoEnd: onVideoEnd,\n    onVideoProgress: onVideoProgress,\n    onVideoMute: onVideoMute,\n    ref: adMediaView,\n    onLayout: _onLayout,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 5\n    }\n  }));\n};\nvar AdMediaView = (0, _reactNative.requireNativeComponent)(\"RNGADMediaView\", NativeMediaView);\nvar _default = NativeMediaView;\nexports.default = _default;","map":{"version":3,"names":["timers","NativeMediaView","props","useContext","NativeAdContext","nativeAd","nativeAdView","adMediaView","useRef","nodeHandle","_onLayout","useCallback","_clearInterval","findNodeHandle","current","setNativeProps","mediaview","useEffect","_setInterval","setInterval","clearInterval","UIManager","dispatchViewManagerCommand","getViewManagerConfig","Commands","getProgress","undefined","onVideoPlay","onVideoPause","onVideoEnd","onVideoProgress","event","Platform","OS","progress","nativeEvent","duration","parseFloat","currentTime","onVideoMute","muted","paused","AdMediaView","requireNativeComponent"],"sources":["C:/Users/HUSLIANA/react-native-ecommerce/node_modules/react-native-admob-native-ads/src/NativeMediaView.js"],"sourcesContent":["import React, { useRef, useEffect, useContext, useCallback } from \"react\";\nimport {\n  findNodeHandle,\n  Platform,\n  requireNativeComponent,\n  UIManager,\n} from \"react-native\";\nimport { NativeAdContext } from \"./context\";\n\nlet timers = {};\n\nconst NativeMediaView = (props) => {\n  const { nativeAd, nativeAdView } = useContext(NativeAdContext);\n  const adMediaView = useRef();\n  let nodeHandle = null;\n  const _onLayout = useCallback(() => {\n    if (!nativeAdView) return;\n\n    _clearInterval();\n    nodeHandle = findNodeHandle(adMediaView.current);\n    nativeAdView.setNativeProps({\n      mediaview: nodeHandle,\n    });\n  }, [nativeAdView]);\n\n  useEffect(() => {\n    _onLayout();\n    return () => {\n      _clearInterval();\n    };\n  }, [nativeAd, nativeAdView]);\n\n  const _setInterval = () => {\n    _clearInterval();\n    timers[nodeHandle] = setInterval(() => {\n      if (!adMediaView.current) {\n        clearInterval(timers[nodeHandle]);\n        return;\n      }\n      UIManager.dispatchViewManagerCommand(\n        findNodeHandle(adMediaView.current),\n        UIManager.getViewManagerConfig(\"RNGADMediaView\").Commands.getProgress,\n        undefined\n      );\n    }, 1000);\n  };\n\n  const _clearInterval = () => {\n    clearInterval(timers[nodeHandle]);\n    timers[nodeHandle] = null;\n  };\n\n  const onVideoPlay = () => {\n    _setInterval();\n    props.onVideoPlay && props.onVideoPlay();\n  };\n  const onVideoPause = () => {\n    _clearInterval();\n    props.onVideoPause && props.onVideoPause();\n  };\n\n  const onVideoEnd = () => {\n    _clearInterval();\n    props.onVideoEnd && props.onVideoEnd();\n  };\n\n  const onVideoProgress = (event) => {\n    if (Platform.OS === \"android\") {\n      let progress = event.nativeEvent;\n      let duration = parseFloat(progress.duration);\n      let current = parseFloat(progress.currentTime);\n      if (current + 4 > duration) {\n        _clearInterval();\n      }\n    }\n    props.onVideoProgress && props.onVideoProgress(event.nativeEvent);\n  };\n\n  const onVideoMute = (event) => {\n    props.onVideoMute && props.onVideoMute(event.nativeEvent?.muted);\n  };\n\n  return (\n    <AdMediaView\n      {...props}\n      pause={props.paused}\n      onVideoPlay={onVideoPlay}\n      onVideoPause={onVideoPause}\n      onVideoEnd={onVideoEnd}\n      onVideoProgress={onVideoProgress}\n      onVideoMute={onVideoMute}\n      ref={adMediaView}\n      onLayout={_onLayout}\n    />\n  );\n};\n\nconst AdMediaView = requireNativeComponent(\"RNGADMediaView\", NativeMediaView);\n\nexport default NativeMediaView;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}