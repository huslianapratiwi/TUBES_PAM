{"ast":null,"code":"import { cond, sub, pow, divide, multiply, add, block, set, lessThan } from \"../base\";\nimport { abs } from \"../derived\";\nvar VELOCITY_EPS = 5;\nexport default function decay(clock, state, config) {\n  var lastTime = cond(state.time, state.time, clock);\n  var deltaTime = sub(clock, lastTime);\n\n  var kv = pow(config.deceleration, deltaTime);\n  var kx = divide(multiply(config.deceleration, sub(1, kv)), sub(1, config.deceleration));\n  var v0 = divide(state.velocity, 1000);\n  var v = multiply(v0, kv, 1000);\n  var x = add(state.position, multiply(v0, kx));\n  return block([set(state.position, x), set(state.velocity, v), set(state.time, clock), cond(lessThan(abs(v), VELOCITY_EPS), set(state.finished, 1))]);\n}","map":{"version":3,"names":["cond","sub","pow","divide","multiply","add","block","set","lessThan","abs","VELOCITY_EPS","decay","clock","state","config","lastTime","time","deltaTime","kv","deceleration","kx","v0","velocity","v","x","position","finished"],"sources":["C:/Users/HUSLIANA/react_native_storeapp-master/node_modules/react-native-reanimated/src/animations/decay.js"],"sourcesContent":["import {\n  cond,\n  sub,\n  pow,\n  divide,\n  multiply,\n  add,\n  block,\n  set,\n  lessThan,\n} from '../base';\nimport { abs } from '../derived';\n\nconst VELOCITY_EPS = 5;\n\nexport default function decay(clock, state, config) {\n  const lastTime = cond(state.time, state.time, clock);\n  const deltaTime = sub(clock, lastTime);\n\n  // v0 = v / 1000\n  // v = v0 * powf(deceleration, dt);\n  // v = v * 1000;\n\n  // x0 = x;\n  // x = x0 + v0 * deceleration * (1 - powf(deceleration, dt)) / (1 - deceleration)\n  const kv = pow(config.deceleration, deltaTime);\n  const kx = divide(\n    multiply(config.deceleration, sub(1, kv)),\n    sub(1, config.deceleration)\n  );\n  const v0 = divide(state.velocity, 1000);\n  const v = multiply(v0, kv, 1000);\n  const x = add(state.position, multiply(v0, kx));\n  return block([\n    set(state.position, x),\n    set(state.velocity, v),\n    set(state.time, clock),\n    cond(lessThan(abs(v), VELOCITY_EPS), set(state.finished, 1)),\n  ]);\n}\n"],"mappings":"AAAA,SACEA,IAAI,EACJC,GAAG,EACHC,GAAG,EACHC,MAAM,EACNC,QAAQ,EACRC,GAAG,EACHC,KAAK,EACLC,GAAG,EACHC,QAAQ;AAEV,SAASC,GAAG;AAEZ,IAAMC,YAAY,GAAG,CAAC;AAEtB,eAAe,SAASC,KAAK,CAACC,KAAK,EAAEC,KAAK,EAAEC,MAAM,EAAE;EAClD,IAAMC,QAAQ,GAAGf,IAAI,CAACa,KAAK,CAACG,IAAI,EAAEH,KAAK,CAACG,IAAI,EAAEJ,KAAK,CAAC;EACpD,IAAMK,SAAS,GAAGhB,GAAG,CAACW,KAAK,EAAEG,QAAQ,CAAC;;EAQtC,IAAMG,EAAE,GAAGhB,GAAG,CAACY,MAAM,CAACK,YAAY,EAAEF,SAAS,CAAC;EAC9C,IAAMG,EAAE,GAAGjB,MAAM,CACfC,QAAQ,CAACU,MAAM,CAACK,YAAY,EAAElB,GAAG,CAAC,CAAC,EAAEiB,EAAE,CAAC,CAAC,EACzCjB,GAAG,CAAC,CAAC,EAAEa,MAAM,CAACK,YAAY,CAAC,CAC5B;EACD,IAAME,EAAE,GAAGlB,MAAM,CAACU,KAAK,CAACS,QAAQ,EAAE,IAAI,CAAC;EACvC,IAAMC,CAAC,GAAGnB,QAAQ,CAACiB,EAAE,EAAEH,EAAE,EAAE,IAAI,CAAC;EAChC,IAAMM,CAAC,GAAGnB,GAAG,CAACQ,KAAK,CAACY,QAAQ,EAAErB,QAAQ,CAACiB,EAAE,EAAED,EAAE,CAAC,CAAC;EAC/C,OAAOd,KAAK,CAAC,CACXC,GAAG,CAACM,KAAK,CAACY,QAAQ,EAAED,CAAC,CAAC,EACtBjB,GAAG,CAACM,KAAK,CAACS,QAAQ,EAAEC,CAAC,CAAC,EACtBhB,GAAG,CAACM,KAAK,CAACG,IAAI,EAAEJ,KAAK,CAAC,EACtBZ,IAAI,CAACQ,QAAQ,CAACC,GAAG,CAACc,CAAC,CAAC,EAAEb,YAAY,CAAC,EAAEH,GAAG,CAACM,KAAK,CAACa,QAAQ,EAAE,CAAC,CAAC,CAAC,CAC7D,CAAC;AACJ"},"metadata":{},"sourceType":"module"}