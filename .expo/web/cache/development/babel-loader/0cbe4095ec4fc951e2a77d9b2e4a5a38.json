{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport PRODUCTS from \"../../data/dummy-data\";\nimport { DELETE_PRODUCT, CREATE_PRODUCT, UPDATE_PRODUCT, SET_PRODUCTS } from \"../actions/products\";\nimport Product from \"../../models/product\";\nvar initialState = {\n  availableProducts: [],\n  userProducts: []\n};\nexport default (function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case SET_PRODUCTS:\n      return {\n        availableProducts: action.products,\n        userProducts: action.userProducts\n      };\n    case CREATE_PRODUCT:\n      var newProduct = new Product(action.productData.id, action.productData.ownerId, action.productData.title, action.productData.imageUrl, action.productData.description, action.productData.price);\n      return _objectSpread(_objectSpread({}, state), {}, {\n        availableProducts: state.availableProducts.concat(newProduct),\n        userProducts: state.userProducts.concat(newProduct)\n      });\n    case UPDATE_PRODUCT:\n      var productIndex = state.userProducts.findIndex(function (prod) {\n        return prod.id === action.pid;\n      });\n      var updatedProduct = new Product(action.pid, state.userProducts[productIndex].ownerId, action.productData.title, action.productData.imageUrl, action.productData.description, state.userProducts[productIndex].price);\n      var updatedUserProducts = _toConsumableArray(state.userProducts);\n      updatedUserProducts[productIndex] = updatedProduct;\n      var availableProductIndex = state.availableProducts.findIndex(function (prod) {\n        return prod.id === action.pid;\n      });\n      var updatedAvailableProducts = _toConsumableArray(state.availableProducts);\n      updatedAvailableProducts[availableProductIndex] = updatedProduct;\n      return _objectSpread(_objectSpread({}, state), {}, {\n        availableProducts: updatedAvailableProducts,\n        userProducts: updatedUserProducts\n      });\n    case DELETE_PRODUCT:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        userProducts: state.userProducts.filter(function (product) {\n          return product.id !== action.pid;\n        }),\n        availableProducts: state.availableProducts.filter(function (product) {\n          return product.id !== action.pid;\n        })\n      });\n  }\n  return state;\n});","map":{"version":3,"names":["PRODUCTS","DELETE_PRODUCT","CREATE_PRODUCT","UPDATE_PRODUCT","SET_PRODUCTS","Product","initialState","availableProducts","userProducts","state","action","type","products","newProduct","productData","id","ownerId","title","imageUrl","description","price","concat","productIndex","findIndex","prod","pid","updatedProduct","updatedUserProducts","availableProductIndex","updatedAvailableProducts","filter","product"],"sources":["C:/Users/HUSLIANA/react_native_storeapp-master/store/reducers/products.js"],"sourcesContent":["import PRODUCTS from '../../data/dummy-data';\nimport {\n  DELETE_PRODUCT,\n  CREATE_PRODUCT,\n  UPDATE_PRODUCT,\n  SET_PRODUCTS\n} from '../actions/products';\nimport Product from '../../models/product';\n\nconst initialState = {\n  availableProducts: [],\n  userProducts: []\n};\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case SET_PRODUCTS:\n      return {\n        availableProducts: action.products,\n        userProducts: action.userProducts\n      };\n    case CREATE_PRODUCT:\n      const newProduct = new Product(\n        action.productData.id,\n        action.productData.ownerId,\n        action.productData.title,\n        action.productData.imageUrl,\n        action.productData.description,\n        action.productData.price\n      );\n      return {\n        ...state,\n        availableProducts: state.availableProducts.concat(newProduct),\n        userProducts: state.userProducts.concat(newProduct)\n      };\n    case UPDATE_PRODUCT:\n      const productIndex = state.userProducts.findIndex(\n        prod => prod.id === action.pid\n      );\n      const updatedProduct = new Product(\n        action.pid,\n        state.userProducts[productIndex].ownerId,\n        action.productData.title,\n        action.productData.imageUrl,\n        action.productData.description,\n        state.userProducts[productIndex].price\n      );\n      const updatedUserProducts = [...state.userProducts];\n      updatedUserProducts[productIndex] = updatedProduct;\n      const availableProductIndex = state.availableProducts.findIndex(\n        prod => prod.id === action.pid\n      );\n      const updatedAvailableProducts = [...state.availableProducts];\n      updatedAvailableProducts[availableProductIndex] = updatedProduct;\n      return {\n        ...state,\n        availableProducts: updatedAvailableProducts,\n        userProducts: updatedUserProducts\n      };\n    case DELETE_PRODUCT:\n      return {\n        ...state,\n        userProducts: state.userProducts.filter(\n          product => product.id !== action.pid\n        ),\n        availableProducts: state.availableProducts.filter(\n          product => product.id !== action.pid\n        )\n      };\n  }\n  return state;\n};\n"],"mappings":";;;;AAAA,OAAOA,QAAQ;AACf,SACEC,cAAc,EACdC,cAAc,EACdC,cAAc,EACdC,YAAY;AAEd,OAAOC,OAAO;AAEd,IAAMC,YAAY,GAAG;EACnBC,iBAAiB,EAAE,EAAE;EACrBC,YAAY,EAAE;AAChB,CAAC;AAED,gBAAe,YAAkC;EAAA,IAAjCC,KAAK,uEAAGH,YAAY;EAAA,IAAEI,MAAM;EAC1C,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAKP,YAAY;MACf,OAAO;QACLG,iBAAiB,EAAEG,MAAM,CAACE,QAAQ;QAClCJ,YAAY,EAAEE,MAAM,CAACF;MACvB,CAAC;IACH,KAAKN,cAAc;MACjB,IAAMW,UAAU,GAAG,IAAIR,OAAO,CAC5BK,MAAM,CAACI,WAAW,CAACC,EAAE,EACrBL,MAAM,CAACI,WAAW,CAACE,OAAO,EAC1BN,MAAM,CAACI,WAAW,CAACG,KAAK,EACxBP,MAAM,CAACI,WAAW,CAACI,QAAQ,EAC3BR,MAAM,CAACI,WAAW,CAACK,WAAW,EAC9BT,MAAM,CAACI,WAAW,CAACM,KAAK,CACzB;MACD,uCACKX,KAAK;QACRF,iBAAiB,EAAEE,KAAK,CAACF,iBAAiB,CAACc,MAAM,CAACR,UAAU,CAAC;QAC7DL,YAAY,EAAEC,KAAK,CAACD,YAAY,CAACa,MAAM,CAACR,UAAU;MAAC;IAEvD,KAAKV,cAAc;MACjB,IAAMmB,YAAY,GAAGb,KAAK,CAACD,YAAY,CAACe,SAAS,CAC/C,UAAAC,IAAI;QAAA,OAAIA,IAAI,CAACT,EAAE,KAAKL,MAAM,CAACe,GAAG;MAAA,EAC/B;MACD,IAAMC,cAAc,GAAG,IAAIrB,OAAO,CAChCK,MAAM,CAACe,GAAG,EACVhB,KAAK,CAACD,YAAY,CAACc,YAAY,CAAC,CAACN,OAAO,EACxCN,MAAM,CAACI,WAAW,CAACG,KAAK,EACxBP,MAAM,CAACI,WAAW,CAACI,QAAQ,EAC3BR,MAAM,CAACI,WAAW,CAACK,WAAW,EAC9BV,KAAK,CAACD,YAAY,CAACc,YAAY,CAAC,CAACF,KAAK,CACvC;MACD,IAAMO,mBAAmB,sBAAOlB,KAAK,CAACD,YAAY,CAAC;MACnDmB,mBAAmB,CAACL,YAAY,CAAC,GAAGI,cAAc;MAClD,IAAME,qBAAqB,GAAGnB,KAAK,CAACF,iBAAiB,CAACgB,SAAS,CAC7D,UAAAC,IAAI;QAAA,OAAIA,IAAI,CAACT,EAAE,KAAKL,MAAM,CAACe,GAAG;MAAA,EAC/B;MACD,IAAMI,wBAAwB,sBAAOpB,KAAK,CAACF,iBAAiB,CAAC;MAC7DsB,wBAAwB,CAACD,qBAAqB,CAAC,GAAGF,cAAc;MAChE,uCACKjB,KAAK;QACRF,iBAAiB,EAAEsB,wBAAwB;QAC3CrB,YAAY,EAAEmB;MAAmB;IAErC,KAAK1B,cAAc;MACjB,uCACKQ,KAAK;QACRD,YAAY,EAAEC,KAAK,CAACD,YAAY,CAACsB,MAAM,CACrC,UAAAC,OAAO;UAAA,OAAIA,OAAO,CAAChB,EAAE,KAAKL,MAAM,CAACe,GAAG;QAAA,EACrC;QACDlB,iBAAiB,EAAEE,KAAK,CAACF,iBAAiB,CAACuB,MAAM,CAC/C,UAAAC,OAAO;UAAA,OAAIA,OAAO,CAAChB,EAAE,KAAKL,MAAM,CAACe,GAAG;QAAA;MACrC;EACD;EAEN,OAAOhB,KAAK;AACd,CAAC"},"metadata":{},"sourceType":"module"}