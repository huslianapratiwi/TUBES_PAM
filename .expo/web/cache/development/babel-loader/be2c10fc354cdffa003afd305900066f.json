{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[typeof Symbol === \"function\" ? Symbol.iterator : \"@@iterator\"] || o[\"@@iterator\"]; if (it) return (it = it.call(o)).next.bind(it); if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; return function () { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport findNodeHandle from \"react-native-web/dist/exports/findNodeHandle\";\nimport ReanimatedModule from \"../ReanimatedModule\";\nimport AnimatedNode from \"./AnimatedNode\";\nimport InternalAnimatedValue from \"./AnimatedValue\";\nimport { createAnimatedAlways } from \"./AnimatedAlways\";\nimport invariant from 'fbjs/lib/invariant';\nimport createEventObjectProxyPolyfill from \"./createEventObjectProxyPolyfill\";\nfunction sanitizeArgMapping(argMapping) {\n  var eventMappings = [];\n  var alwaysNodes = [];\n  var getNode = function getNode(node) {\n    if (Platform.OS === 'web') {\n      return node;\n    }\n    return node.__nodeID;\n  };\n  var traverse = function traverse(value, path) {\n    if (value instanceof InternalAnimatedValue) {\n      eventMappings.push(path.concat(getNode(value)));\n    } else if (typeof value === 'object' && value.__val) {\n      eventMappings.push(path.concat(getNode(value.__val)));\n    } else if (typeof value === 'function') {\n      var node = new InternalAnimatedValue(0);\n      alwaysNodes.push(createAnimatedAlways(value(node)));\n      eventMappings.push(path.concat(getNode(node)));\n    } else if (typeof value === 'object') {\n      for (var key in value) {\n        traverse(value[key], path.concat(key));\n      }\n    }\n  };\n  invariant(argMapping[0] && argMapping[0].nativeEvent, 'Native driven events only support animated values contained inside `nativeEvent`.');\n\n  var ev = argMapping[0].nativeEvent;\n  if (typeof ev === 'object') {\n    traverse(ev, []);\n  } else if (typeof ev === 'function') {\n    var proxyHandler = {\n      get: function get(target, name) {\n        if (name === '__isProxy') {\n          return true;\n        }\n        if (!target[name] && name !== '__val') {\n          target[name] = new Proxy({}, proxyHandler);\n        }\n        return target[name];\n      },\n      set: function set(target, prop, value) {\n        if (prop === '__val') {\n          target[prop] = value;\n        }\n      }\n    };\n    var proxy = typeof Proxy === 'function' ? new Proxy({}, proxyHandler) : createEventObjectProxyPolyfill();\n    alwaysNodes.push(createAnimatedAlways(ev(proxy)));\n    traverse(proxy, []);\n  }\n  return {\n    eventMappings: eventMappings,\n    alwaysNodes: alwaysNodes\n  };\n}\nvar AnimatedEvent = function (_AnimatedNode) {\n  _inherits(AnimatedEvent, _AnimatedNode);\n  var _super = _createSuper(AnimatedEvent);\n  function AnimatedEvent(argMapping) {\n    var _this;\n    var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    _classCallCheck(this, AnimatedEvent);\n    var _sanitizeArgMapping = sanitizeArgMapping(argMapping),\n      eventMappings = _sanitizeArgMapping.eventMappings,\n      alwaysNodes = _sanitizeArgMapping.alwaysNodes;\n    _this = _super.call(this, {\n      type: 'event',\n      argMapping: eventMappings\n    });\n    _this.__isNative = true;\n    _this._alwaysNodes = alwaysNodes;\n    if (Platform.OS === 'web') {\n      _this._argMapping = eventMappings;\n      _this.__getHandler = function () {\n        return function (_ref) {\n          var nativeEvent = _ref.nativeEvent;\n          for (var _iterator = _createForOfIteratorHelperLoose(_this._argMapping), _step; !(_step = _iterator()).done;) {\n            var _ref2 = _step.value;\n            var _ref3 = _slicedToArray(_ref2, 2);\n            var key = _ref3[0];\n            var value = _ref3[1];\n            if (key in nativeEvent) value.setValue(nativeEvent[key]);\n          }\n        };\n      };\n    }\n    return _this;\n  }\n\n  _createClass(AnimatedEvent, [{\n    key: \"attachEvent\",\n    value: function attachEvent(viewRef, eventName) {\n      for (var i = 0; i < this._alwaysNodes.length; i++) {\n        this._alwaysNodes[i].__attach();\n      }\n      this.__attach();\n      var viewTag = findNodeHandle(viewRef);\n      ReanimatedModule.attachEvent(viewTag, eventName, this.__nodeID);\n    }\n  }, {\n    key: \"__onEvaluate\",\n    value: function __onEvaluate() {\n      return 0;\n    }\n  }, {\n    key: \"detachEvent\",\n    value: function detachEvent(viewRef, eventName) {\n      for (var i = 0; i < this._alwaysNodes.length; i++) {\n        this._alwaysNodes[i].isNativelyInitialized() && this._alwaysNodes[i].__detach();\n      }\n      var viewTag = findNodeHandle(viewRef);\n      ReanimatedModule.detachEvent(viewTag, eventName, this.__nodeID);\n      this.__detach();\n    }\n  }]);\n  return AnimatedEvent;\n}(AnimatedNode);\nexport { AnimatedEvent as default };\nexport function createAnimatedEvent(argMapping, config) {\n  return new AnimatedEvent(argMapping, config);\n}","map":{"version":3,"names":["ReanimatedModule","AnimatedNode","InternalAnimatedValue","createAnimatedAlways","invariant","createEventObjectProxyPolyfill","sanitizeArgMapping","argMapping","eventMappings","alwaysNodes","getNode","node","Platform","OS","__nodeID","traverse","value","path","push","concat","__val","key","nativeEvent","ev","proxyHandler","get","target","name","Proxy","set","prop","proxy","AnimatedEvent","config","type","__isNative","_alwaysNodes","_argMapping","__getHandler","setValue","viewRef","eventName","i","length","__attach","viewTag","findNodeHandle","attachEvent","isNativelyInitialized","__detach","detachEvent","createAnimatedEvent"],"sources":["C:/Users/HUSLIANA/react_native_storeapp-master/node_modules/react-native-reanimated/src/core/AnimatedEvent.js"],"sourcesContent":["import { Platform, findNodeHandle } from 'react-native';\nimport ReanimatedModule from '../ReanimatedModule';\n\nimport AnimatedNode from './AnimatedNode';\nimport InternalAnimatedValue from './AnimatedValue';\nimport { createAnimatedAlways } from './AnimatedAlways';\n\nimport invariant from 'fbjs/lib/invariant';\nimport createEventObjectProxyPolyfill from './createEventObjectProxyPolyfill';\n\nfunction sanitizeArgMapping(argMapping) {\n  // Find animated values in `argMapping` and create an array representing their\n  // key path inside the `nativeEvent` object. Ex.: ['contentOffset', 'x'].\n  const eventMappings = [];\n  const alwaysNodes = [];\n\n  const getNode = node => {\n    if (Platform.OS === 'web') {\n      return node;\n    }\n    return node.__nodeID;\n  };\n\n  const traverse = (value, path) => {\n    if (value instanceof InternalAnimatedValue) {\n      eventMappings.push(path.concat(getNode(value)));\n    } else if (typeof value === 'object' && value.__val) {\n      eventMappings.push(path.concat(getNode(value.__val)));\n    } else if (typeof value === 'function') {\n      const node = new InternalAnimatedValue(0);\n      alwaysNodes.push(createAnimatedAlways(value(node)));\n      eventMappings.push(path.concat(getNode(node)));\n    } else if (typeof value === 'object') {\n      for (const key in value) {\n        traverse(value[key], path.concat(key));\n      }\n    }\n  };\n\n  invariant(\n    argMapping[0] && argMapping[0].nativeEvent,\n    'Native driven events only support animated values contained inside `nativeEvent`.'\n  );\n\n  // Assume that the event containing `nativeEvent` is always the first argument.\n  const ev = argMapping[0].nativeEvent;\n  if (typeof ev === 'object') {\n    traverse(ev, []);\n  } else if (typeof ev === 'function') {\n    const proxyHandler = {\n      get: function(target, name) {\n        if (name === '__isProxy') {\n          return true;\n        }\n        if (!target[name] && name !== '__val') {\n          target[name] = new Proxy({}, proxyHandler);\n        }\n        return target[name];\n      },\n      set: function(target, prop, value) {\n        if (prop === '__val') {\n          target[prop] = value;\n        }\n      },\n    };\n\n    const proxy =\n      typeof Proxy === 'function'\n        ? new Proxy({}, proxyHandler)\n        : createEventObjectProxyPolyfill();\n    alwaysNodes.push(createAnimatedAlways(ev(proxy)));\n    traverse(proxy, []);\n  }\n\n  return { eventMappings, alwaysNodes };\n}\n\nexport default class AnimatedEvent extends AnimatedNode {\n  constructor(argMapping, config = {}) {\n    const { eventMappings, alwaysNodes } = sanitizeArgMapping(argMapping);\n    super({ type: 'event', argMapping: eventMappings });\n    this._alwaysNodes = alwaysNodes;\n    if (Platform.OS === 'web') {\n      this._argMapping = eventMappings;\n      this.__getHandler = () => {\n        return ({ nativeEvent }) => {\n          for (const [key, value] of this._argMapping) {\n            if (key in nativeEvent) value.setValue(nativeEvent[key]);\n          }\n        };\n      };\n    }\n  }\n\n  // The below field is a temporary workaround to make AnimatedEvent object be recognized\n  // as Animated.event event callback and therefore filtered out from being send over the\n  // bridge which was causing the object to be frozen in JS.\n  __isNative = true;\n\n  attachEvent(viewRef, eventName) {\n    for (let i = 0; i < this._alwaysNodes.length; i++) {\n      this._alwaysNodes[i].__attach();\n    }\n    this.__attach();\n    const viewTag = findNodeHandle(viewRef);\n    ReanimatedModule.attachEvent(viewTag, eventName, this.__nodeID);\n  }\n\n  __onEvaluate() {\n    return 0;\n  }\n\n  detachEvent(viewRef, eventName) {\n    for (let i = 0; i < this._alwaysNodes.length; i++) {\n      this._alwaysNodes[i].isNativelyInitialized() &&\n        this._alwaysNodes[i].__detach();\n    }\n    const viewTag = findNodeHandle(viewRef);\n    ReanimatedModule.detachEvent(viewTag, eventName, this.__nodeID);\n    this.__detach();\n  }\n}\n\nexport function createAnimatedEvent(argMapping, config) {\n  return new AnimatedEvent(argMapping, config);\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}